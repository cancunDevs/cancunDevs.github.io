---
import "../styles/global.css";
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = await useTranslations(lang);
---

<html lang={lang}>
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>CancunDevs - Consultor√≠a de Desarrollo de Software</title>
	</head>
	<body class="font-sans text-gray-900 bg-white">
		<nav class="fixed top-0 left-0 right-0 bg-white/95 backdrop-blur-sm shadow-sm z-50">
			<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
				<div class="flex justify-between items-center h-16">
					<a href="/" class="text-2xl font-bold text-blue-600 hover:text-blue-700 transition-colors">
						CancunDevs
					</a>
					
					<!-- Mobile menu button -->
					<button class="md:hidden p-2 rounded-md text-gray-700 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500" aria-label="Toggle menu">
						<svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
						</svg>
					</button>

					<!-- Desktop menu -->
					<div class="hidden md:flex md:items-center md:space-x-8">
						<a href="#services" class="text-gray-700 hover:text-blue-600 transition-colors">{await t('nav.services')}</a>
						<a href="#expertise" class="text-gray-700 hover:text-blue-600 transition-colors">{await t('nav.expertise')}</a>
						<a href="#contact" class="text-gray-700 hover:text-blue-600 transition-colors">{await t('nav.contact')}</a>
						<a href="#contact" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 transition-colors">
							{await t('nav.getStarted')}
						</a>
						<div class="flex items-center space-x-2">
							<a href="/" class="text-gray-700 hover:text-blue-600 transition-colors">ES</a>
							<span class="text-gray-300">|</span>
							<a href="/en" class="text-gray-700 hover:text-blue-600 transition-colors">EN</a>
						</div>
					</div>
				</div>

				<!-- Mobile menu -->
				<div class="hidden md:hidden">
					<div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
						<a href="#services" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50">{await t('nav.services')}</a>
						<a href="#expertise" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50">{await t('nav.expertise')}</a>
						<a href="#contact" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50">{await t('nav.contact')}</a>
						<a href="#contact" class="block px-3 py-2 rounded-md text-base font-medium text-white bg-blue-600 hover:bg-blue-700">
							{await t('nav.getStarted')}
						</a>
						<div class="flex items-center space-x-2 px-3 py-2">
							<a href="/" class="text-gray-700 hover:text-blue-600 transition-colors">ES</a>
							<span class="text-gray-300">|</span>
							<a href="/en" class="text-gray-700 hover:text-blue-600 transition-colors">EN</a>
						</div>
					</div>
				</div>
			</div>
		</nav>

		<main class="pt-16">
			<section class="min-h-screen flex items-center bg-gradient-to-r from-gray-50 to-gray-100">
				<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20">
					<div class="max-w-3xl">
						<h1 class="text-5xl font-extrabold bg-gradient-to-r from-blue-600 to-blue-700 bg-clip-text text-transparent mb-6">
							{await t('hero.title')}
						</h1>
						<p class="text-xl text-gray-700 mb-8">
							{await t('hero.description')}
						</p>
						<a href="#contact" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 transition-colors">
							{await t('hero.cta')}
						</a>
					</div>
				</div>
			</section>

			<section id="services" class="py-20">
				<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
					<h2 class="text-4xl font-bold text-center mb-12 text-gray-900">{await t('services.title')}</h2>
					<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
						<div class="bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow">
							<h3 class="text-xl font-semibold text-blue-600 mb-4">{await t('services.items.customDev.title')}</h3>
							<p class="text-gray-700">{await t('services.items.customDev.description')}</p>
						</div>
						<div class="bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow">
							<h3 class="text-xl font-semibold text-blue-600 mb-4">{await t('services.items.cloud.title')}</h3>
							<p class="text-gray-700">{await t('services.items.cloud.description')}</p>
						</div>
						<div class="bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow">
							<h3 class="text-xl font-semibold text-blue-600 mb-4">{await t('services.items.staff.title')}</h3>
							<p class="text-gray-700">{await t('services.items.staff.description')}</p>
						</div>
						<div class="bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow">
							<h3 class="text-xl font-semibold text-blue-600 mb-4">{await t('services.items.training.title')}</h3>
							<p class="text-gray-700">{await t('services.items.training.description')}</p>
						</div>
						<div class="bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow">
							<h3 class="text-xl font-semibold text-blue-600 mb-4">{await t('services.items.interviews.title')}</h3>
							<p class="text-gray-700">{await t('services.items.interviews.description')}</p>
						</div>
						<div class="bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow">
							<h3 class="text-xl font-semibold text-blue-600 mb-4">{await t('services.items.consulting.title')}</h3>
							<p class="text-gray-700">{await t('services.items.consulting.description')}</p>
						</div>
					</div>
				</div>
			</section>

			<section id="expertise" class="py-20 bg-gray-50">
				<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
					<h2 class="text-4xl font-bold text-center mb-12 text-gray-900">{await t('expertise.title')}</h2>
					<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
						<div class="text-center p-6">
							<h3 class="text-xl font-semibold text-blue-600 mb-2">{await t('expertise.items.web.title')}</h3>
							<p class="text-gray-700">{await t('expertise.items.web.description')}</p>
						</div>
						<div class="text-center p-6">
							<h3 class="text-xl font-semibold text-blue-600 mb-2">{await t('expertise.items.mobile.title')}</h3>
							<p class="text-gray-700">{await t('expertise.items.mobile.description')}</p>
						</div>
						<div class="text-center p-6">
							<h3 class="text-xl font-semibold text-blue-600 mb-2">{await t('expertise.items.desktop.title')}</h3>
							<p class="text-gray-700">{await t('expertise.items.desktop.description')}</p>
						</div>
						<div class="text-center p-6">
							<h3 class="text-xl font-semibold text-blue-600 mb-2">{await t('expertise.items.cloud.title')}</h3>
							<p class="text-gray-700">{await t('expertise.items.cloud.description')}</p>
						</div>
					</div>
				</div>
			</section>

			<section id="contact" class="py-20">
				<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
					<h2 class="text-4xl font-bold mb-6 text-gray-900">{await t('contact.title')}</h2>
					<p class="text-xl text-gray-700 mb-8 max-w-2xl mx-auto">
						{await t('contact.description')}
					</p>
					<a href="mailto:contact@cancundevs.com" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 transition-colors">
						{await t('contact.cta')}
					</a>
				</div>
			</section>
		</main>

		<script>
			// Mobile menu toggle
			const mobileMenuButton = document.querySelector('button[aria-label="Toggle menu"]');
			const mobileMenu = document.querySelector('.md\\:hidden');

			mobileMenuButton?.addEventListener('click', () => {
				mobileMenu?.classList.toggle('hidden');
			});

			// Close mobile menu when clicking a link
			document.querySelectorAll('.md\\:hidden a').forEach(link => {
				link.addEventListener('click', () => {
					mobileMenu?.classList.add('hidden');
				});
			});

			// Smooth scroll for navigation links
			document.querySelectorAll('a[href^="#"]').forEach(anchor => {
				anchor.addEventListener('click', (e) => {
					e.preventDefault();
					const target = document.querySelector(anchor.getAttribute('href') || '');
					if (target) {
						target.scrollIntoView({
							behavior: 'smooth',
							block: 'start'
						});
					}
				});
			});
		</script>
	</body>
</html>
